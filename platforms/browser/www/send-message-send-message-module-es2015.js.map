{"version":3,"sources":["./src/app/send-message/send-message.page.html","./src/app/send-message/send-message.module.ts","./src/app/send-message/send-message.page.scss","./src/app/send-message/send-message.page.ts"],"names":[],"mappings":"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","file":"send-message-send-message-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-button (click)=\\\"goBack()\\\">\\n            <ion-icon class=\\\"back-button\\\" slot=\\\"icon-only\\\" name=\\\"md-arrow-back\\\"></ion-icon>\\n          </ion-button>\\n      </ion-buttons>\\n      <ion-title routerLink=\\\"groupdetails\\\">\\n        {{'Send Message'|translate}}\\n      </ion-title>\\n      <ion-buttons slot=\\\"end\\\" size-xs=\\\"small\\\">\\n        <ion-button>\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"md-call\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button>\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"md-videocam\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"main\\\">\\n      <p class=\\\"header\\\">{{'Message will be sent to'|translate}}</p>\\n\\n      <div class=\\\"all-message-container\\\" (click)=\\\"selectAll($event)\\\">\\n        <div class=\\\"images-container\\\">\\n          <div class=\\\"first-row\\\">\\n              <img [src]=\\\"'http://198.12.92.202/public/uploads/' + (userArray[0] ? userArray[0].avatar: '')\\\" onError=\\\"this.src='assets/images/user.png';\\\" class=\\\"small-image\\\">\\n              <img [src]=\\\"'http://198.12.92.202/public/uploads/' + (userArray[1] ? userArray[1].avatar: '')\\\" onError=\\\"this.src='assets/images/user.png';\\\" class=\\\"small-image\\\">\\n          </div>\\n          <div class=\\\"second-row\\\">\\n              <img [src]=\\\"'http://198.12.92.202/public/uploads/' + (userArray[2] ? userArray[2].avatar: '')\\\" onError=\\\"this.src='assets/images/user.png';\\\" class=\\\"small-image\\\">\\n              <img [src]=\\\"'http://198.12.92.202/public/uploads/' + (userArray[3] ? userArray[3].avatar: '')\\\" onError=\\\"this.src='assets/images/user.png';\\\" class=\\\"small-image\\\">\\n          </div>\\n        </div>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"md-checkmark\\\" color=\\\"light\\\" class=\\\"checkmark hidden\\\"></ion-icon>\\n        <p class=\\\"all-text\\\">{{'All'|translate}}</p>\\n      </div>\\n\\n      <p class=\\\"header sub\\\">{{'Select Members'|translate}}</p>\\n\\n      <div class=\\\"all-images-row\\\">\\n        <div *ngFor=\\\"let user of userArray; index as pos\\\" class=\\\"individual-user-container\\\" id=\\\"container-{{ pos+1 }}\\\">\\n          <div class=\\\"individual-image-container\\\" (click)=\\\"selectIndividual($event, pos)\\\" >\\n              <img class=\\\"large-image\\\" id=\\\"image-{{ pos+1 }}\\\" *ngIf=\\\"user.avatar\\\" [src]=\\\"'http://198.12.92.202/public/uploads/' + user.avatar\\\" onError=\\\"this.src='assets/images/user.png';\\\">\\n              <img class=\\\"large-image\\\" id=\\\"image-{{ pos+1 }}\\\" *ngIf=\\\"!user.avatar\\\" src=\\\"assets/images/user.png\\\">\\n          </div>\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"md-checkmark\\\" color=\\\"light\\\" class=\\\"individual-checkmark\\\" id=\\\"{{ pos+1 }}\\\" (click)=\\\"selectIndividual($event, pos)\\\" ></ion-icon>\\n          <p class=\\\"individual-name\\\">{{ user.name }}</p>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"type-message\\\">\\n        <!-- Text Message Area -->\\n        <div class=\\\"type-message-container\\\">\\n          <ion-item class=\\\"preview\\\" *ngFor=\\\"let img of images; index as pos\\\" text-wrap>\\n            <ion-thumbnail *ngIf=\\\"getExt(img) != 'video'\\\" slot=\\\"start\\\">\\n              <ion-img [src]=\\\"img.path\\\"></ion-img>\\n            </ion-thumbnail>\\n            <ion-thumbnail *ngIf=\\\"getExt(img) == 'video'\\\" slot=\\\"start\\\">\\n              <video [src]=\\\"img.path\\\" height=\\\"50\\\" width=\\\"70\\\" muted [muted]=\\\"true\\\" preload=\\\"auto\\\" playsinline autoplay loop></video>\\n            </ion-thumbnail>\\n            <ion-label>\\n              {{ img.displayName }}\\n            </ion-label>\\n            <ion-button *ngIf=\\\"uploading == false\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"deleteFile(img, pos)\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n            </ion-button>\\n            <ion-spinner *ngIf=\\\"uploading == true\\\" name=\\\"crescent\\\" color=\\\"primary\\\"></ion-spinner>\\n          </ion-item>\\n          <ion-item class=\\\"preview\\\" *ngFor=\\\"let doc of docs; index as pos\\\" text-wrap>\\n            <ion-chip color=\\\"primary\\\">\\n              <ion-icon name=\\\"attach\\\" color=\\\"primary\\\"></ion-icon>\\n            </ion-chip>\\n            <ion-label>\\n              {{ doc.name}}\\n            </ion-label>  \\n            <ion-button *ngIf=\\\"uploading == false\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"deleteFile(doc, pos)\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n            </ion-button>\\n            <ion-spinner *ngIf=\\\"uploading == true\\\" name=\\\"crescent\\\" color=\\\"primary\\\"></ion-spinner>\\n          </ion-item>\\n          <form [formGroup]=\\\"groupform\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n          <ion-input type=\\\"text\\\"  formControlName=\\\"adminname\\\" value=\\\"{{ adminname }}\\\" hidden></ion-input>\\n            <div class=\\\"chatbox-wrapper\\\">\\n              <ion-item class=\\\"rounded\\\" lines=\\\"none\\\">\\n                  <ion-textarea placeholder=\\\"{{'Enter Message' | translate}}...\\\" rows=\\\"3\\\" (keyup.enter)=\\\"onSubmit()\\\" name=\\\"message\\\" formControlName=\\\"message\\\"></ion-textarea>\\n              </ion-item>\\n            </div>\\n          \\n            <div class=\\\"buttons-container\\\">\\n                <ion-button (click)=\\\"selectAFile()\\\" fill=\\\"clear\\\">\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"md-attach\\\" color=\\\"medium\\\"></ion-icon>\\n                </ion-button>\\n                <!-- <input type=\\\"file\\\" (change)=\\\"getFileFromBrowser($event, 'video')\\\" id=\\\"video\\\" accept=\\\"video/mp4,video/x-m4v,video/*\\\" style=\\\"display: none\\\"> -->\\n                <ion-button (click)=\\\"selectVideoFromGallery()\\\" fill=\\\"clear\\\">\\n                    <ion-icon slot=\\\"icon-only\\\" name=\\\"md-videocam\\\" color=\\\"medium\\\"></ion-icon>\\n                </ion-button>\\n                \\n                <!-- <input type=\\\"file\\\" (change)=\\\"getFileFromBrowser($event, 'image')\\\" id=\\\"image\\\" accept=\\\"image/*\\\" style=\\\"display: none\\\"> -->\\n                <ion-button (click)=\\\"selectImage()\\\" fill=\\\"clear\\\">\\n                  <ion-icon slot=\\\"icon-only\\\" name=\\\"md-camera\\\" color=\\\"medium\\\"></ion-icon>\\n                </ion-button>\\n  \\n                <ion-button fill=\\\"clear\\\" type=\\\"submit\\\">\\n                  <ion-icon slot=\\\"icon-only\\\" name=\\\"md-send\\\" color=\\\"primary\\\"></ion-icon>\\n                </ion-button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SendMessagePage } from './send-message.page';\n\nimport { TranslateModule } from '@ngx-translate/core'\nimport { GroupChatAdminPage } from '../group-chat-admin/group-chat-admin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SendMessagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    TranslateModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SendMessagePage],\n  providers: [GroupChatAdminPage]\n})\nexport class SendMessagePageModule {}\n","module.exports = \"ion-title {\\n  text-align: left; }\\n\\n.main {\\n  margin: 20px; }\\n\\n.header {\\n  color: #1A1A1A;\\n  font-weight: bold;\\n  margin-bottom: 0px; }\\n\\n.header.sub {\\n  color: #005DDD;\\n  margin-top: 0;\\n  margin-bottom: 20px; }\\n\\n.all-message-container {\\n  width: 50px;\\n  margin-top: 20px; }\\n\\n.images-container {\\n  width: 50px;\\n  height: 50px;\\n  text-align: center;\\n  border-radius: 50%;\\n  padding-left: 3px; }\\n\\n.overlay {\\n  background: #69A8FF; }\\n\\n.overlay .small-image {\\n  opacity: 0.5; }\\n\\n.all-text {\\n  margin-top: 35px;\\n  width: 50px;\\n  color: #1A1A1A;\\n  text-align: center;\\n  font-weight: 600;\\n  font-size: 12px;\\n  position: relative;\\n  bottom: 30px;\\n  margin-bottom: 0; }\\n\\n.all-text.blue {\\n  color: #005DDD; }\\n\\n.first-row {\\n  display: -webkit-box;\\n  display: flex;\\n  padding-left: 3px;\\n  padding-top: 4px; }\\n\\n.second-row {\\n  display: -webkit-box;\\n  display: flex;\\n  padding-left: 3px; }\\n\\n.images-container .small-image {\\n  width: 15px;\\n  height: 15px;\\n  border-radius: 50%;\\n  margin: 3px 2px; }\\n\\n.checkmark {\\n  font-size: 30px;\\n  position: relative;\\n  bottom: 40px;\\n  left: 10px; }\\n\\n.hidden {\\n  visibility: hidden; }\\n\\n.all-images-row {\\n  display: -webkit-box;\\n  display: flex;\\n  overflow-x: auto;\\n  min-height: 80px; }\\n\\n.individual-user-container {\\n  width: 50px;\\n  height: 50px;\\n  margin: 0 5px; }\\n\\n.individual-image-container {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 50%;\\n  background: #69A8FF;\\n  margin: 0 auto; }\\n\\n.large-image {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 50%; }\\n\\n.individual-name {\\n  margin-top: 2px;\\n  color: #1A1A1A;\\n  text-align: center;\\n  font-weight: 600;\\n  font-size: 12px;\\n  position: relative;\\n  bottom: 30px;\\n  margin-bottom: 0; }\\n\\n.individual-checkmark {\\n  font-size: 25px;\\n  position: relative;\\n  bottom: 33px;\\n  left: 12px;\\n  visibility: hidden; }\\n\\n.individual-overlay .large-image {\\n  opacity: 0.5 !important; }\\n\\n.individual-overlay .individual-name {\\n  color: #005DDD !important; }\\n\\n.individual-overlay .individual-checkmark {\\n  visibility: visible; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvYmJveF9mcm9udGVuZC9zcmMvYXBwL3NlbmQtbWVzc2FnZS9zZW5kLW1lc3NhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksZ0JBQWdCLEVBQUE7O0FBSXBCO0VBQ0ksWUFBVyxFQUFBOztBQUlmO0VBQ0ksY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBaUIsRUFBQTs7QUFHckI7RUFDSSxjQUFjO0VBQ2QsYUFBWTtFQUNaLG1CQUFtQixFQUFBOztBQUt2QjtFQUNJLFdBQVc7RUFDWCxnQkFBZ0IsRUFBQTs7QUFJcEI7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsaUJBQWdCLEVBQUE7O0FBR3BCO0VBQ0ksbUJBQW1CLEVBQUE7O0FBR3ZCO0VBQ0ksWUFBWSxFQUFBOztBQUdoQjtFQUNJLGdCQUFlO0VBQ2YsV0FBVTtFQUNWLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLGdCQUFnQixFQUFBOztBQUdwQjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxvQkFBYTtFQUFiLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsZ0JBQ0osRUFBQTs7QUFFQTtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixVQUFVLEVBQUE7O0FBR2Q7RUFDSSxrQkFBa0IsRUFBQTs7QUFLdEI7RUFDSSxvQkFBYTtFQUFiLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBR3BCO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWixhQUFhLEVBQUE7O0FBR2pCO0VBQ0ksWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxZQUFZO0VBQ1osV0FBVztFQUNYLGtCQUFrQixFQUFBOztBQUd0QjtFQUNJLGVBQWM7RUFDZCxjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixnQkFBZ0IsRUFBQTs7QUFHcEI7RUFDSSxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixVQUFVO0VBQ1Ysa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksdUJBQXVCLEVBQUE7O0FBRzNCO0VBQ0kseUJBQXlCLEVBQUE7O0FBRzdCO0VBQ0ksbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9zZW5kLW1lc3NhZ2Uvc2VuZC1tZXNzYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8vSW9uIEhlYWRlciBTdHlsZXNcbmlvbi10aXRsZXtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4vL01haW4gU3R5bGVzXG4ubWFpbntcbiAgICBtYXJnaW46MjBweDtcbn1cblxuLy8gSGVhZGVyIFN0eWxlc1xuLmhlYWRlcntcbiAgICBjb2xvcjogIzFBMUExQTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW4tYm90dG9tOjBweDtcbn1cblxuLmhlYWRlci5zdWJ7XG4gICAgY29sb3I6ICMwMDVEREQ7XG4gICAgbWFyZ2luLXRvcDowO1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi8vU2VuZCBNZXNzYWdlIHRvIEFsbCBTdHlsZXNcblxuLmFsbC1tZXNzYWdlLWNvbnRhaW5lcntcbiAgICB3aWR0aDogNTBweDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG5cbi5pbWFnZXMtY29udGFpbmVye1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHBhZGRpbmctbGVmdDozcHg7XG59XG5cbi5vdmVybGF5e1xuICAgIGJhY2tncm91bmQ6ICM2OUE4RkY7XG59XG5cbi5vdmVybGF5IC5zbWFsbC1pbWFnZXtcbiAgICBvcGFjaXR5OiAwLjU7XG59XG5cbi5hbGwtdGV4dHtcbiAgICBtYXJnaW4tdG9wOjM1cHg7XG4gICAgd2lkdGg6NTBweDtcbiAgICBjb2xvcjogIzFBMUExQTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogMzBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4uYWxsLXRleHQuYmx1ZXtcbiAgICBjb2xvcjogIzAwNURERDtcbn1cblxuLmZpcnN0LXJvd3tcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBhZGRpbmctbGVmdDogM3B4O1xuICAgIHBhZGRpbmctdG9wOiA0cHggXG59XG5cbi5zZWNvbmQtcm93e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcGFkZGluZy1sZWZ0OiAzcHg7XG59XG5cbi5pbWFnZXMtY29udGFpbmVyIC5zbWFsbC1pbWFnZXtcbiAgICB3aWR0aDogMTVweDtcbiAgICBoZWlnaHQ6IDE1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIG1hcmdpbjogM3B4IDJweDtcbn1cblxuLmNoZWNrbWFya3tcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogNDBweDtcbiAgICBsZWZ0OiAxMHB4O1xufVxuXG4uaGlkZGVue1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cblxuLy9TZW5kIE1lc3NhZ2UgdG8gSW5kaXZpZHVhbHMgU3R5bGVcblxuLmFsbC1pbWFnZXMtcm93e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICBtaW4taGVpZ2h0OiA4MHB4O1xufVxuXG4uaW5kaXZpZHVhbC11c2VyLWNvbnRhaW5lcntcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgbWFyZ2luOiAwIDVweDtcbn1cblxuLmluZGl2aWR1YWwtaW1hZ2UtY29udGFpbmVye1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZDogIzY5QThGRjtcbiAgICBtYXJnaW46IDAgYXV0bztcbn1cblxuLmxhcmdlLWltYWdle1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5pbmRpdmlkdWFsLW5hbWV7XG4gICAgbWFyZ2luLXRvcDoycHg7XG4gICAgY29sb3I6ICMxQTFBMUE7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBib3R0b206IDMwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLmluZGl2aWR1YWwtY2hlY2ttYXJre1xuICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgYm90dG9tOiAzM3B4O1xuICAgIGxlZnQ6IDEycHg7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xufVxuXG4uaW5kaXZpZHVhbC1vdmVybGF5IC5sYXJnZS1pbWFnZXtcbiAgICBvcGFjaXR5OiAwLjUgIWltcG9ydGFudDtcbn1cblxuLmluZGl2aWR1YWwtb3ZlcmxheSAuaW5kaXZpZHVhbC1uYW1le1xuICAgIGNvbG9yOiAjMDA1REREICFpbXBvcnRhbnQ7XG59XG5cbi5pbmRpdmlkdWFsLW92ZXJsYXkgLmluZGl2aWR1YWwtY2hlY2ttYXJre1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG59XG5cblxuIl19 */\"","import { Component, OnInit , ViewChild, ChangeDetectorRef, ChangeDetectionStrategy  } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormControl, NgForm } from '@angular/forms';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { NavController, IonContent, ActionSheetController, LoadingController, ToastController, ModalController, Platform } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { GroupService } from '../shared/group.service';\nimport { Group } from '../shared/group.model';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { File, FileEntry } from '@ionic-native/file/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/camera/ngx';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { HttpClient } from '@angular/common/http';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\n\nimport { Socket } from 'ngx-socket-io';\nimport { GroupDetailsPage } from '../group-details/group-details.page';\nimport { Location } from '@angular/common';\nimport { HelperService } from '../services/helper.service';\nimport { ContactsService } from '../services/contacts.service';\n\nconst STORAGE_KEY = 'my_files';\n\n@Component({\n  selector: 'app-send-message',\n  templateUrl: './send-message.page.html',\n  styleUrls: ['./send-message.page.scss'],\n  providers: [HelperService]\n})\nexport class SendMessagePage implements OnInit {\n  current_platform: any;\n  lang: String = 'EN';\n  userArray : Array<{id : string, name: String, avatar: String}> = []; // Groups\n  video_members: Array<{id: String}> = [];\n  room_id: any;\n  group_data: any;\n  user_id: any;\n  chatArray: FormGroup;\n  chat_room: any;\n  groupform: FormGroup;\n  imageURIs: any;\n  printURIs: any;\n  type: number;\n  id: any;\n  sub: any;\n  idval: String = \"\";\n  adminidval: String = \"\";\n  images = [];\n  adminname: String=\"\";\n  allMessages: any;\n  messageDateString: any;\n  docs: any = [];\n  uploading: Boolean = false;\n  loadingChats = true;\n  isAdmin: Boolean = false;\n  ANDROID_PERMISSIONS = [\n    'android.permission.READ_EXTERNAL_STORAGE',\n    'android.permission.WRITE_EXTERNAL_STORAGE',\n  ];\n  currentFileType: String;\n  \n  temp_name: any;\n  data: any;\n  filtered_users =[];\n  members: any;\n  filtered: Boolean = false;\n  @ViewChild(IonContent, { static: false }) contentArea: IonContent;\n  constructor(\n    public route: ActivatedRoute,\n    public storage: Storage,\n    public location: Location,\n    private formBuilder: FormBuilder,\n    public groupService: GroupService,\n    private router: Router,\n    private sanitizer: DomSanitizer, \n    private file: File, \n    private actionSheetCtrl: ActionSheetController, \n    private transfer: FileTransfer,\n    private loadingCtrl: LoadingController, \n    private imagePicker: ImagePicker, \n    public navCtrl: NavController, \n    // public navParams: NavParams,\n    public toastCtrl: ToastController,\n    private camera: Camera, \n    public modalCtrl: ModalController, \n    private webview: WebView,\n    private platform: Platform,\n    private filePath: FilePath,\n    private ref: ChangeDetectorRef,\n    private fileChooser: FileChooser,\n    private http: HttpClient,\n    private androidPermissions: AndroidPermissions,\n    private socket: Socket,\n    public modalController: ModalController,\n    public translate: TranslateService,\n    public helper: HelperService,\n    private contactsService: ContactsService\n    ) {\n      console.log('PLATFORMS', this.platform.platforms())\n      if(this.platform.is('desktop')){\n        console.log('desktop')\n        this.current_platform = 'desktop'\n      }\n\n      this.storage.get('language')\n      .then(lang => {\n        if (lang) {\n          this.lang = lang;\n        }\n      })\n      this.route.queryParams.subscribe(params => {\n        if (params && params.special) {\n          // this.data = JSON.parse(params.special);\n            \n          console.log(JSON.parse(params.special));\n          this.id = JSON.parse(params.special).room_id;\n          this.room_id = JSON.parse(params.special).room_id;\n          this.group_data = JSON.parse(params.special).data\n          console.log('GROUP DATA', this.group_data);\n          console.log(this.group_data.memberData);\n\n          this.storage.get('id').then((val) => {\n            this.adminidval = val;\n            this.user_id = val;\n            this.toggleIDs(val);\n            console.log(this.adminidval);\n            this.chat_room = this.id\n            this.socket.connect();\n            console.log(this.chat_room);\n            this.temp_name = this.adminidval;\n    \n            console.log(name)\n            this.socket.emit('set-name', this.temp_name)\n    \n            this.socket.fromEvent('message-'+this.chat_room).subscribe((message: any) => {\n              console.log('MESSAGE', message);\n            });\n            var read_all = {\n              id: this.id,\n              user_id: this.adminidval\n            }\n            // this.groupService.putChatReadAll(read_all)\n            //   .subscribe(read => {\n            //     console.log(\"READ\", read);\n            //   })\n            \n            this.group_data.memberData.forEach(element=>{\n              if(this.adminidval != element._id){\n                var contact = this.contactsService.getContactName(element['_id']);\n                var finalName = contact ? contact : element['mobile'];\n                this.userArray.push({ id : element['_id'] , name : finalName, avatar : element['avatar']});  \n              }   \n            });\n            this.video_members = [];\n          });\n        }\n      });\n\n\n      this.storage.get('name').then((val2) => {\n        this.adminname\n        = val2;\n      });\n      this.groupform = this.formBuilder.group({\n        message: [''],\n        adminid:['',[Validators.required]],\n        adminname:['',[Validators.required]],\n      });\n    }\n    \n  ngOnInit() {\n    \n  }\n\n  noSpaceValidator(){\n    console.log(this.groupform.value.message);\n    if(this.groupform.value.message.trim() == 0 ){\n      return false;\n      console.log(\"false\")\n    }\n    else{\n      return true;\n      console.log(\"true\")\n    }\n  }\n\n  onSubmit() {\n    if((!this.platform.is('ios') && !this.platform.is('android')) && this.images.length){\n      this.uploading = true;\n      let new_name = this.helper.createFileName(this.images[0].name)\n      let formData:FormData = new FormData();\n      formData.append('image', this.images[0].filePath, new_name);\n      this.uploadFileData(formData, new_name);\n    }\n    else {\n      console.log('VIDEO MEMBERS', this.video_members)\n      console.log(this.groupform.value);\n      if(this.video_members.length > 0){\n        if(this.groupform.value.message && !this.docs.length && !this.images.length){\n            if(this.noSpaceValidator() == true){\n              let file_message = this.groupform.value;\n              file_message.messageBy = this.adminidval;\n              file_message.messageFor = this.video_members;\n              console.log('FILE MESSAGE',file_message);\n        \n              this.cleanUpload(file_message);\n            }else{\n              alert(\"Only spaces not allowed\");\n            }\n          }\n        if(this.platform.is('ios') || this.platform.is('android')){\n          this.startUpload();\n        }\n      } else {\n        this.presentToast('Kindly select members to send this message to');\n      }\n    }\n  }\n\n  reset(){\n    this.groupform.controls['message'].reset();\n  }\n\n  selectIndividual(event, pos){\n    // console.log(this.checkAll())\n    var currentID = event.target.id.replace('image-','');\n    document.getElementById('container-'+currentID).classList.toggle('individual-overlay');\n    this.toggleIDs(this.userArray[pos].id);\n    \n    console.log(document.querySelector('.images-container').classList.contains('overlay'))\n    if(document.querySelector('.images-container').classList.contains('overlay')){\n        document.querySelector('.images-container').classList.toggle('overlay');\n        document.querySelector('.checkmark').classList.toggle('hidden');\n        document.querySelector('.all-text').classList.toggle('blue');\n    }\n  }\n\n  selectAll(event){\n    document.querySelector('.images-container').classList.toggle('overlay');\n    document.querySelector('.checkmark').classList.toggle('hidden');\n    document.querySelector('.all-text').classList.toggle('blue');\n    \n    this.toggleAll(); // Handles ONLY Front End\n\n    console.log(this.checkAll());\n    // Checks\n    //  if Front End select all has an overlay\n    //  else Toggle Selected Users\n    if(document.querySelector('.images-container').classList.contains('overlay')){\n      this.userArray.forEach(group => {\n        this.toggleIDs(group.id,'add')\n      })\n    }else{\n      this.video_members = [];\n      console.log(this.video_members);\n    }\n  }\n\n\n  toggleAll(){\n    for (let i = 0; i < this.userArray.length ; i++) {\n      if(this.userArray[i].id != this.user_id){\n        if(document.querySelector('.images-container').classList.contains('overlay')){\n          if(!document.getElementById('container-' + (i+1)).classList.contains('individual-overlay')){\n            document.getElementById('container-' + (i+1)).classList.toggle('individual-overlay');\n          }\n        }\n        else{\n          if(document.getElementById('container-' + (i+1)).classList.contains('individual-overlay')){\n            document.getElementById('container-' + (i+1)).classList.toggle('individual-overlay');\n          }\n        }\n      }\n    }\n  }\n\n  checkAll(){\n    console.log(this.userArray)\n    console.log(this.video_members)\n    if(this.userArray.length == this.video_members.length){\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  toggleIDs(id,action?: any){\n    console.log(id)\n    var index = this.video_members.indexOf(id);\n    console.log(action)\n    console.log(index)\n    if(action){\n      if(action == 'add' && index == -1){\n          this.video_members.push(id);\n        return;\n      }else if(action == 'remove' && index > -1){\n        this.video_members.splice(index, 1);\n        return;\n      }\n    }\n    else\n    {\n      if (index > -1) {\n        this.video_members.splice(index, 1);\n      }\n      else {\n        this.video_members.push(id);\n      }\n    }\n\n\n  }\n\n  /* ONLINE FIX */\n  loadStoredImages() {\n    this.storage.get(STORAGE_KEY).then(images => {\n      if (images) {\n        let arr = JSON.parse(images);\n        this.images = [];\n        for (let img of arr) {\n          let filePath = this.file.dataDirectory + img;\n          let resPath = this.pathForImage(filePath);\n          this.images.push({ name: img, path: resPath, filePath: filePath });\n        }\n      }\n    });\n  }\n \n  async presentToast(text) {\n    \n    this.storage.get('language').then((language: any)=>{\n      console.log(language)\n      \n      this.translate.get(text,{value: language})\n      .subscribe(async (res: any)=>{\n\n        const toast = await this.toastCtrl.create({\n          message: res,\n          duration: 3000,\n          position: \"bottom\",\n        });\n        toast.present();\n        this.ref.detectChanges();\n      });\n    })\n    // const toast = await this.toastCtrl.create({\n    //     message: text,\n    //     position: 'bottom',\n    //     duration: 3000\n    // });\n    // await toast.present();\n  }\n\nasync selectImage() {\n  if(!this.platform.is('ios') && !this.platform.is('android')){\n    document.getElementById('image').click();\n  }\n  else {\n    this.helper.selectImage()\n      .then((imgResponse: any) => {\n        console.log('IMAGE RESPONSE', imgResponse);\n        this.images = imgResponse.images;\n        this.docs = imgResponse.docs\n        this.currentFileType = 'image';\n        console.log(this.images);\n      })\n  }\n}\n\nselectVideoFromGallery() {\n  if(!this.platform.is('ios') && !this.platform.is('android')){\n    document.getElementById('video').click();\n  }\n  else {\n    this.helper.selectVideoFromGallery()\n      .then((videoResponse: any) => {\n        console.log('VIDEO RESPONSE', videoResponse);\n        this.images = videoResponse.images;\n        this.docs = videoResponse.docs;\n        this.currentFileType = 'video';\n      })\n\n  }\n}\n\nstartProcess(file, type, sourceType){\n  this.docs = [];\n  this.images = [];\n  console.log(\"PROCESS STARTED\");\n  this.currentFileType = type;\n  if ((this.platform.is('android') && sourceType === this.camera.PictureSourceType.PHOTOLIBRARY) || (this.platform.is('android') && type == 'doc')) {\n        console.log(\"FILE: \", file)\n        let path = file.toString();\n        if(type != 'doc'){\n          file = path.indexOf('file://') > -1 ? file : 'file://' + file.toString() ;\n        }\n        this.filePath.resolveNativePath(file)\n            .then(filePath => {\n                console.log(\"FILE PATH\", filePath);\n                let correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);\n                let currentName = new String();\n                if(type === 'image'){\n                  currentName = file.substring(file.lastIndexOf('/') + 1, file.lastIndexOf('?'));\n                }\n                else {\n                  currentName = filePath.substring(filePath.lastIndexOf('/') + 1);\n                }\n                this.copyFileToLocalDir(correctPath, currentName, this.createFileName(filePath.substring(filePath.lastIndexOf('/') + 1)));\n            }); \n    } else {\n        var currentName = file.substr(file.lastIndexOf('/') + 1);\n        var correctPath = file.substr(0, file.lastIndexOf('/') + 1);\n        this.copyFileToLocalDir(correctPath, currentName, this.createFileName(file.lastIndexOf('/') + 1));\n    }\n}\n\n  createFileName(fileName) {\n    let ext = this.getFileExtension(fileName)\n    console.log(\"EXT\", ext);\n    var d = new Date(),\n        n = d.getTime(),\n        newFileName = n + '.' + ext;\n        console.log(\"FILE NAME\", fileName)\n    return newFileName;\n  }\n\n  copyFileToLocalDir(namePath, currentName, newFileName) {\n    this.checkPermissions().then(() => {\n      this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\n        this.updateStoredFiles(newFileName, currentName);\n      }, error => {\n          console.log(\"COULD NOT STORE FILE\", error)\n          // let value = this.translate.instant('Error_while_storing_file', { value: this.lang });\n          this.presentToast(\"Error_while_storing_file\");\n      });\n    })\n  }\n\n  updateStoredFiles(name, oldName) {\n    this.storage.get(STORAGE_KEY).then(files => {\n        let arr = JSON.parse(files);\n        if (!arr) {\n            let newFiles = [name];\n            this.storage.set(STORAGE_KEY, JSON.stringify(newFiles));\n        } else {\n            arr.push(name);\n            this.storage.set(STORAGE_KEY, JSON.stringify(arr));\n        }\n\n        \n        let filePath = this.file.dataDirectory + name;\n        //IF NOT DOC\n        if(this.currentFileType != 'doc'){\n          let resPath = this.pathForImage(filePath);\n\n          let newEntry = {\n              name: name,\n              path: resPath,\n              filePath: filePath,\n              displayName: oldName\n          };\n\n          this.images = [newEntry, ...this.images];\n          this.ref.detectChanges(); // trigger change detection cycle\n          console.log(\"NEW IMGS\", this.images)\n        }\n        //IF DOC\n        else {\n          let newEntry = {\n            name: name,\n            filePath: filePath\n          };\n\n          this.docs = [newEntry, ...this.docs];\n          console.log(\"NEW DOCS\", this.docs)\n        }\n    });\n  }\n\n  pathForImage(img) {\n    if (img === null) {\n      return '';\n    } else {\n      let converted = this.webview.convertFileSrc(img);\n      return converted;\n    }\n  }\n\n  deleteFile(fileEntry, position) {\n    this.images.splice(position, 1);\n\n    this.storage.get(STORAGE_KEY).then(images => {\n        const arr = JSON.parse(images);\n        const filtered = arr.filter(name => name != fileEntry.name);\n        this.storage.set(STORAGE_KEY, JSON.stringify(filtered));\n\n        // tslint:disable-next-line: prefer-const\n        let correctPath = fileEntry.filePath.substr(0, fileEntry.filePath.lastIndexOf('/') + 1);\n\n        this.file.removeFile(correctPath, fileEntry.name).then(res => {\n          // let value = this.translate.instant('File_removed', { value: this.lang });\n            this.presentToast(\"File_removed\");\n        });\n    });\n  }\n\n  startUpload() {\n    this.uploading = true;\n    console.log(this.uploading);\n    console.log('STARTED UPLOAD');\n    if(this.images){\n      console.log('IMAGES', this.images)\n      this.images.forEach(imgEntry => {\n        this.getFileFromLocal(imgEntry.filePath)\n      });  \n    }\n    if(this.docs){\n      console.log('DOCS', this.docs)\n      this.docs.forEach(docEntry => {\n          this.getFileFromLocal(docEntry.filePath)\n        });\n    }\n  }\n\n  getFileFromLocal(entry){\n    this.file.resolveLocalFilesystemUrl(entry)\n          .then(entry => {\n              ( < FileEntry > entry).file(file => this.readFile(file))\n          })\n          .catch(err => {\n            // let value = this.translate.instant('Error_while_reading_file', { value: this.lang });\n              this.presentToast(\"Error_while_reading_file\");\n          });\n  }\n\n  readFile(file: any) {\n    console.log(\"FILE TYPE\",file.type);\n    const reader = new FileReader();\n    reader.onloadend = () => {\n        const formData = new FormData();\n        const fileBlob = new Blob([reader.result], {\n            type: file.type\n        });\n        formData.append('image', fileBlob, file.name);\n        this.uploadFileData(formData, file.name);\n    };\n    reader.readAsArrayBuffer(file);\n  }\n\n  async uploadFileData(formData: FormData, name) {\n    const uploadCall = this.http.post(\"http://198.12.92.202:5000/upload/single-file\", formData)\n        .subscribe((res) => {\n              console.log(res)\n              console.log(res['error'])\n              if (res['error']) {\n                // let value = this.translate.instant('File_upload_failed', { value: this.lang });\n                  this.presentToast(\"File_upload_failed\");\n              } else {\n                // let value = this.translate.instant('File_upload_success', { value: this.lang });\n                  this.presentToast(\"File_upload_success\");\n                  console.log(\"SUCCESS IS WORKING\")\n\n                  let file_message = this.groupform.value;\n                  file_message.messageBy = this.adminidval;\n                  file_message.attachment = name\n                  file_message.file = true\n                  file_message.fileType = this.currentFileType;\n                  file_message.messageFor = this.video_members;\n                  this.cleanUpload(file_message);\n              }\n            },err => {\n              console.log(\"UPLOAD FAILED\", err)\n              this.uploading = false;\n              this.images = [];\n              this.docs = [];\n            })\n  }\n\n  cleanUpload(file_message){\n    console.log(\"FILE MESSAGE\", file_message);\n    this.groupService.putChat(file_message, this.id).subscribe((res) => {\n      this.uploading = false;\n      this.images = [];\n      this.docs = [];\n      this.socket.emit('send-message', { \n        text: file_message.message, \n        room: this.chat_room,\n        sent_from: this.temp_name,\n        type: 1, // 1-> text,\n        messageFor: file_message.messageFor\n      })\n      this.reset();\n      this.currentFileType = new String();\n      if(file_message.file == true && file_message.message.length){\n        delete file_message[\"attachment\"];\n        delete file_message[\"fileType\"];\n        delete file_message[\"file\"];\n        this.cleanUpload(file_message);\n      }\n      this.router.navigate(['group-chat-admin',this.chat_room]);\n      // this.groupchatadmin.chatData();\n      // this.location.back();\n      this.ref.detectChanges();\n    });\n  }\n\n  getExt(entry) {\n    return this.helper.getExt(entry);\n  }\n\n  getFileExtension(entry){\n    return this.helper.getFileExtension(entry);\n  }\n\n\n  async selectAFile() {\n    // console.log('Select File')\n    this.helper.selectAFile()\n        .then((fileResponse: any) => {\n          console.log('File RESPONSE', fileResponse);\n          this.images = fileResponse.images;\n          this.docs = fileResponse.docs;\n          this.currentFileType = 'doc';\n          this.ref.detectChanges();\n        })\n  }\n\n  deleteDoc(pos){\n    this.helper.deleteDoc(pos)\n      .then(done => console.log(done))\n  }\n\n  public checkPermissions(): Promise<any> {\n        console.log('Requesting Android Permissions');\n        return new Promise((resolve, reject) => {\n            this.androidPermissions.requestPermissions(this.ANDROID_PERMISSIONS)\n                .then(() => {\n                  const promisesArray: Promise<any> [] = [];\n                  this.ANDROID_PERMISSIONS.forEach((permission) => {\n                    console.log('Checking ', permission);\n                    promisesArray.push(this.androidPermissions.checkPermission(permission));\n                  });\n                  Promise.all(promisesArray).then((responses) => {\n                    let allHasPermissions = true;\n                    responses.forEach((response, i) => {\n                        allHasPermissions =  response.hasPermission;\n                        if (!allHasPermissions) {\n                          reject(\n                            new Error(\n                              'Permissions denied: ' + this.ANDROID_PERMISSIONS[i]\n                            ));\n                        }\n                    });\n                    resolve();\n                  }).catch((err) => { console.log(err); });\n                })\n                .catch((err) => console.error('Error requesting permissions: ', err));\n        });\n    }\n\n  goBack(){\n    this.location.back();\n    this.helper.destroyAll();\n  }\n\n  ionViewWillLeave(){\n    this.helper.destroyAll();\n  }\n\n  getFileFromBrowser(event: Event, type){\n    this.images = [];\n    console.log(event)\n    console.log(event.target['files'][0])\n    let fileList: FileList = event.target['files'];\n\n    if(fileList.length > 0) {\n        var file = fileList[0];\n    }\n\n    const reader = new FileReader();\n    reader.onload = e => {\n      let newEntry = {\n        name: file.name,\n        path: reader.result,\n        filePath: file,\n        displayName: file.name,\n        type: type\n      };\n      if(type != 'doc'){\n        this.images = [newEntry, ...this.images];\n        this.currentFileType = type;\n      }\n    };\n\n    reader.readAsDataURL(file);\n  }\n}\n"],"sourceRoot":""}