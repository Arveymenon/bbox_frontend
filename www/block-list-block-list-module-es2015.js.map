{"version":3,"sources":["./src/app/block-list/block-list.page.html","./src/app/block-list/block-list.module.ts","./src/app/block-list/block-list.page.scss","./src/app/block-list/block-list.page.ts"],"names":[],"mappings":"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","file":"block-list-block-list-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Blocked Users</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"blocked_users && !blocked_users.length\\\">\\n    <p class=\\\"ion-text-center\\\">You haven't blocked anyone yet</p>\\n  </div>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of blocked_users\\\" (click)=\\\"deleteAlert(item._id, item.name)\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img [src]=\\\"'http://198.12.92.202/public/uploads/' + item.avatar\\\" onError=\\\"this.src='assets/images/user.png';\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>{{ item.name ? item.name : item.mobile }}</h2>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BlockListPage } from './block-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BlockListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BlockListPage]\n})\nexport class BlockListPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jsb2NrLWxpc3QvYmxvY2stbGlzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { UserService } from '../shareduser/user.service';\nimport { Storage } from '@ionic/storage';\nimport { LoaderService } from '../services/loader.service';\nimport { AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ContactsService } from '../services/contacts.service';\n\n@Component({\n  selector: 'app-block-list',\n  templateUrl: './block-list.page.html',\n  styleUrls: ['./block-list.page.scss'],\n})\nexport class BlockListPage implements OnInit {\n  user_id: any;\n  blocked_users: any;;\n\n  constructor(\n    private userService: UserService,\n    private storage: Storage,\n    private loader: LoaderService,\n    private ref: ChangeDetectorRef,\n    private alertController: AlertController,\n    private translate: TranslateService,\n    private contactsService: ContactsService\n  ) {\n    \n  }\n\n  ngOnInit() {\n    this.storage.get('id').then(val => {\n      this.user_id = val;\n      this.getList();\n    })\n  }\n\n  getList(){\n    this.loader.presentLoading();\n    this.userService.getBlockList(this.user_id).subscribe((list: any) => {\n      this.loader.dismiss();\n      list.forEach(item => {\n        item.name = this.contactsService.getContactName(item._id);\n      });\n      this.blocked_users = list;\n      this.ref.detectChanges();\n    })\n  }\n\n  removeBlock(id){\n    console.log(id);\n    var body = {\n      user_id: this.user_id,\n      blocked_user: id\n    }\n    console.log(body);\n    this.userService.removeFromBlock(body).subscribe(removed => {\n      this.getList();\n    }, err => console.log(err));\n  }\n\n  async deleteAlert(id, name) {\n    let value = this.translate.instant(['Block_Chat','Confirm_Block','cancel','Block'], { value: 'en' });\n    const alert = await this.alertController.create({\n      header: \"Are you Sure?\",\n      message: \"Kindly confirm you want to unblock \" + name,\n      buttons: [\n        {\n          text: value.cancel,\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel: blah');\n            // this.longpressclass[itt] = \"message-bubble-received-flex\";\n          }\n        }, {\n          text: value.Block,\n          role: 'okay',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.removeBlock(id)\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":""}